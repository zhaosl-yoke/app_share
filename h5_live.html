<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">
    <title>artapp微信直播</title>
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-tap-highlight" content="no">
    <style>
        body{
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="video-container" style="margin: 0px auto;">

</div>
<script src="//imgcache.qq.com/open/qcloud/video/vcplayer/TcPlayer.js"></script>
<script type="text/javascript"src="js/common/jquery-1.12.1.min.js"></script>
<script type="text/javascript" src="js/common/service.js"></script>
<script>
    (function(){
    	var poster = getParametersOnUrl('poster');
        function getParams(name) {
            var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
            var r = window.location.search.substr(1).match(reg);
            if (r != null) {
                return decodeURIComponent(r[2]);
            }
            return null;
        }
        var rtmp = getParams('rtmp'),
            flv  = getParams('flv'),
            m3u8 = getParams('m3u8'),
            mp4  = getParams('mp4'),
            live = (getParams('live') == 'true' ? true : false),
            coverpic = getParams('coverpic'),
            width = getParams('width'),
            height = getParams('height'),
            autoplay = (getParams('autoplay') == 'true' ? true : false);
        /**
         * 视频类型播放优先级
         * mobile ：m3u8>mp4
         * PC ：RTMP>flv>m3u8>mp4
         */

        /**
         * 属性说明：
         *
         * coverpic  {Object|String} src:图片地址，style：default 居中1:1显示 stretch 拉伸铺满，图片可能会变形 cover 等比横向铺满，图片某些部分可能无法显示在区域内
         *  封面在 ios10 暂时无法生效。
         */
        var options = {
            rtmp: rtmp,
            flv: flv ,
            m3u8: m3u8 || 'https://4594.liveplay.myqcloud.com/live/4594_f40e1b499f95f7b1a9658ded35a25fa3.m3u8',
           // mp4 : mp4 || 'http://1252262160.vod2.myqcloud.com/dc84d4davodgzp1252262160/7a5c012c9031868222929250388/f0.mp4',
            //coverpic: coverpic || {"style":"cover", "src":"http://artapp-dev-bucket.oss-cn-beijing.aliyuncs.com/"+poster},
            autoplay: autoplay?true:false[[]],
	 		live: live ? true : false,
            width : width || window.screen.width,
            height : height || window.screen.height - 20 - 44
        };
        var player = new TcPlayer('video-container', options);
        window.qcplayer  = player;
    })();


</script>
</body>
</html><!--[if !IE]>|xGv00|5a3d96c0a1cae2b9ef9a26dd00a12808<![endif]-->
